# Cluster Configuration
PROJECT_ID="${PROJECT_ID:-$(gcloud config get-value project 2>/dev/null)}"
REGION="us-central1"
ZONE="us-central1-b"
CLUSTER_NAME="rook-ceph-dev"

# Network
VPC_NAME="rook-ceph-dev-vpc"
SUBNET_NAME="rook-ceph-dev-subnet"
SUBNET_RANGE="10.0.0.0/24"
POD_CIDR="10.244.0.0/16"
SERVICE_CIDR="10.96.0.0/12"

# Versions
TALOS_VERSION="v1.12.3"
KUBECTL_VERSION="v1.32.0"

# --- Control Plane Configuration ---
# 3 Nodes for HA
CP_COUNT=3
# Use standard version (no extensions needed for basic K8s)
# Can set specific version: CP_TALOS_VERSION="v1.12.2"
CP_TALOS_VERSION="$TALOS_VERSION"
CP_EXTENSIONS=""
# Machine Type: 2 vCPU, 8GB RAM (Standard for CP)
CP_MACHINE_TYPE="e2-standard-2"
CP_DISK_SIZE="200GB"

# --- Worker Configuration ---
# 5 Nodes for Workloads
WORKER_COUNT=5
# Use same version as CP (best practice unless canarying)
# Can set specific version: WORKER_TALOS_VERSION="v1.12.3"
WORKER_TALOS_VERSION="$TALOS_VERSION"
# Add gVisor extension for secure sandboxing
WORKER_EXTENSIONS="siderolabs/gvisor"
# Machine Type: 2 vCPU, 8GB RAM (Adjust based on workload)
WORKER_MACHINE_TYPE="e2-standard-2"
WORKER_DISK_SIZE="200GB"

# Additional Worker Disks (type:size:device-name)
# 1. Fast 1GB (pd-ssd)
# 2. Fast 50GB (pd-ssd)
# 3. Slow 1TB (pd-standard)
WORKER_ADDITIONAL_DISKS="pd-ssd:1GB:disk-fast-1 pd-ssd:50GB:disk-fast-50 pd-standard:1TB:disk-slow-1tb"

# Features
INSTALL_CILIUM="true"
INSTALL_HUBBLE="true"
INSTALL_CSI="true"

# Ingress
INGRESS_IP_COUNT=1
